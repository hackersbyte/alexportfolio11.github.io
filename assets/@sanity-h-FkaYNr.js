import{_ as pe,g as ge,c as fr}from"./@react-three-H6TEog0q.js";import{g as dr,r as ye,j as pr,a as gr,p as yr,o as wr}from"./get-it-yHTXup1s.js";import{O as mt,l as P,c as vr,f as mr,m as V,a as _t}from"./rxjs-ILC1Bcnl.js";import{e as _r}from"./event-source-polyfill-5mPYo8Fc.js";function br(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(n,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const Yt=5;class Er extends Error{constructor(t){const e=we(t);super(e.message),this.statusCode=400,Object.assign(this,e)}}class Sr extends Error{constructor(t){const e=we(t);super(e.message),this.statusCode=500,Object.assign(this,e)}}function we(r){const t=r.body,e={response:r,statusCode:r.statusCode,responseBody:Ar(t,r),message:"",details:void 0};if(t.error&&t.message)return e.message="".concat(t.error," - ").concat(t.message),e;if(Or(t)){const n=t.error.items||[],o=n.slice(0,Yt).map(h=>{var d;return(d=h.error)==null?void 0:d.description}).filter(Boolean);let c=o.length?`:
- `.concat(o.join(`
- `)):"";return n.length>Yt&&(c+=`
...and `.concat(n.length-Yt," more")),e.message="".concat(t.error.description).concat(c),e.details=t.error,e}return t.error&&t.error.description?(e.message=t.error.description,e.details=t.error,e):(e.message=t.error||t.message||xr(r),e)}function Or(r){return ne(r)&&ne(r.error)&&r.error.type==="mutationError"&&typeof r.error.description=="string"}function ne(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function xr(r){const t=r.statusMessage?" ".concat(r.statusMessage):"";return"".concat(r.method,"-request to ").concat(r.url," resulted in HTTP ").concat(r.statusCode).concat(t)}function Ar(r,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}const Cr={onResponse:r=>{if(r.statusCode>=500)throw new Sr(r);if(r.statusCode>=400)throw new Er(r);return r}},kr={onResponse:r=>{const t=r.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(n=>console.warn(n)),r}};function ie(r,{maxRetries:t=5,retryDelay:e}){const n=dr([t>0?ye({retryDelay:e,maxRetries:t,shouldRetry:Ir}):{},...r,kr,pr(),gr(),yr(),Cr,wr({implementation:mt})]);function o(c,h=n){return h({maxRedirects:0,...c})}return o.defaultRequester=n,o}function Ir(r,t,e){const n=e.method==="GET"||e.method==="HEAD",c=(e.uri||e.url).startsWith("/data/query"),h=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||c)&&h?!0:ye.shouldRetry(r,t,e)}function ve(r){if(typeof r=="string"||Array.isArray(r))return{id:r};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const se=["image","file"],oe=["before","after","replace"],me=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Pr=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Mr=r=>{if(se.indexOf(r)===-1)throw new Error("Invalid asset type: ".concat(r,". Must be one of ").concat(se.join(", ")))},gt=(r,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(r,"() takes an object of properties"))},_e=(r,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(r,'(): "').concat(t,'" is not a valid document ID'))},jt=(r,t)=>{if(!t._id)throw new Error("".concat(r,'() requires that the document contains an ID ("_id" property)'));_e(r,t._id)},Tr=(r,t,e)=>{const n="insert(at, selector, items)";if(oe.indexOf(r)===-1){const o=oe.map(c=>'"'.concat(c,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(e))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},be=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},Ee=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r};var Se=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},st=(r,t,e)=>(Se(r,t,"read from private field"),e?e.call(r):t.get(r)),Oe=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},xe=(r,t,e,n)=>(Se(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),nt,it;class Ae{constructor(t,e={}){this.selection=t,this.operations=e}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return gt("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,e,n){return Tr(t,e,n),this._assign("insert",{[t]:e,items:n})}append(t,e){return this.insert("after","".concat(t,"[-1]"),e)}prepend(t,e){return this.insert("before","".concat(t,"[0]"),e)}splice(t,e,n,o){const c=typeof n>"u"||n===-1,h=e<0?e-1:e,d=c?-1:Math.max(0,e+n),g=h<0&&d>=0?"":d,v="".concat(t,"[").concat(h,":").concat(g,"]");return this.insert("replace",v,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...ve(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,e,n=!0){return gt(t,e),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},n&&this.operations[t]||{},e)}),this}_set(t,e){return this._assign(t,e,!1)}}const Rr=class Ce extends Ae{constructor(t,e,n){super(t,e),Oe(this,nt,void 0),xe(this,nt,n)}clone(){return new Ce(this.selection,{...this.operations},st(this,nt))}commit(t){if(!st(this,nt))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",n=Object.assign({returnFirst:e,returnDocuments:!0},t);return st(this,nt).mutate({patch:this.serialize()},n)}};nt=new WeakMap;let yt=Rr;const jr=class ke extends Ae{constructor(t,e,n){super(t,e),Oe(this,it,void 0),xe(this,it,n)}clone(){return new ke(this.selection,{...this.operations},st(this,it))}commit(t){if(!st(this,it))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",n=Object.assign({returnFirst:e,returnDocuments:!0},t);return st(this,it).mutate({patch:this.serialize()},n)}};it=new WeakMap;let wt=jr;var Ie=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},z=(r,t,e)=>(Ie(r,t,"read from private field"),e?e.call(r):t.get(r)),Pe=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Me=(r,t,e,n)=>(Ie(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Y,Q;const Te={returnDocuments:!1};class Re{constructor(t=[],e){this.operations=t,this.trxId=e}create(t){return gt("create",t),this._add({create:t})}createIfNotExists(t){const e="createIfNotExists";return gt(e,t),jt(e,t),this._add({[e]:t})}createOrReplace(t){const e="createOrReplace";return gt(e,t),jt(e,t),this._add({[e]:t})}delete(t){return _e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const qr=class je extends Re{constructor(t,e,n){super(t,n),Pe(this,Y,void 0),Me(this,Y,e)}clone(){return new je([...this.operations],z(this,Y),this.trxId)}commit(t){if(!z(this,Y))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return z(this,Y).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Te,t||{}))}patch(t,e){const n=typeof e=="function";if(typeof t!="string"&&t instanceof wt)return this._add({patch:t.serialize()});if(n){const c=e(new wt(t,{},z(this,Y)));if(!(c instanceof wt))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:c.serialize()})}return this._add({patch:{id:t,...e}})}};Y=new WeakMap;let qe=qr;const Ur=class Ue extends Re{constructor(t,e,n){super(t,n),Pe(this,Q,void 0),Me(this,Q,e)}clone(){return new Ue([...this.operations],z(this,Q),this.trxId)}commit(t){if(!z(this,Q))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return z(this,Q).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Te,t||{}))}patch(t,e){const n=typeof e=="function";if(typeof t!="string"&&t instanceof yt)return this._add({patch:t.serialize()});if(n){const c=e(new yt(t,{},z(this,Q)));if(!(c instanceof yt))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:c.serialize()})}return this._add({patch:{id:t,...e}})}};Q=new WeakMap;let $e=Ur;const $r="https://www.sanity.io/help/";function Zt(r){return $r+r}function Dr(r){let t=!1,e;return(...n)=>(t||(e=r(...n),t=!0),e)}const Ft=r=>Dr((...t)=>console.warn(r.join(" "),...t)),Wr=Ft(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Lr=Ft(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Nr=Ft(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(Zt("js-client-browser-token")," for more information and how to hide this warning.")]),Hr=Ft(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(Zt("js-client-api-version"))]),zr="apicdn.sanity.io",vt={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Br=["localhost","127.0.0.1","0.0.0.0"],Vr=r=>Br.indexOf(r)!==-1,Gr=function(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},De=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},We=(r,t)=>{const e={...t,...r,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||vt.stega,...typeof r.stega=="boolean"?{enabled:r.stega}:r.stega||{}}};e.apiVersion||Hr();const n={...vt,...e},o=n.useProjectHostname;if(typeof Promise>"u"){const E=Zt("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(E))}if(o&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&De(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error("stega.enabled must be a boolean, received ".concat(n.stega.enabled));if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error("stega.studioUrl must be a string or a function, received ".concat(n.stega.studioUrl));const c=typeof window<"u"&&window.location&&window.location.hostname,h=c&&Vr(window.location.hostname);c&&h&&n.token&&n.ignoreBrowserTokenWarning!==!0?Nr():typeof n.useCdn>"u"&&Wr(),o&&Pr(n.projectId),n.dataset&&me(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Ee(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===vt.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,Gr(n.apiVersion);const d=n.apiHost.split("://",2),g=d[0],v=d[1],b=n.isDefaultApi?zr:v;return n.useProjectHostname?(n.url="".concat(g,"://").concat(n.projectId,".").concat(v,"/v").concat(n.apiVersion),n.cdnUrl="".concat(g,"://").concat(n.projectId,".").concat(b,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n},Fr="X-Sanity-Project-ID";function Jr(r,t={}){const e={},n=t.token||r.token;n&&(e.Authorization="Bearer ".concat(n)),!t.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(e[Fr]=r.projectId);const o=!!(typeof t.withCredentials>"u"?r.token||r.withCredentials:t.withCredentials),c=typeof t.timeout>"u"?r.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},e,t.headers||{}),timeout:typeof c>"u"?5*60*1e3:c,proxy:t.proxy||r.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...t.fetch}:t.fetch||r.fetch})}var Le={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},te={0:8203,1:8204,2:8205,3:65279},Yr=new Array(4).fill(String.fromCodePoint(te[0])).join("");function Qr(r){let t=JSON.stringify(r);return`${Yr}${Array.from(t).map(e=>{let n=e.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${e} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(o=>String.fromCodePoint(te[o])).join("")}).join("")}`}function Xr(r){return Number.isNaN(Number(r))?!!Date.parse(r):!1}function Kr(r){try{new URL(r,r.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Zr(r,t,e="auto"){return e===!0||e==="auto"&&(Xr(r)||Kr(r))?r:`${r}${Qr(t)}`}Object.fromEntries(Object.entries(te).map(r=>r.reverse()));Object.fromEntries(Object.entries(Le).map(r=>r.reverse()));var tn=`${Object.values(Le).map(r=>`\\u{${r.toString(16)}}`).join("")}`,ae=new RegExp(`[${tn}]{4,}`,"gu");function en(r){var t;return{cleaned:r.replace(ae,""),encoded:((t=r.match(ae))==null?void 0:t[0])||""}}function rn(r){try{return JSON.parse(JSON.stringify(r,(t,e)=>typeof e!="string"?e:en(e).cleaned))}catch{return r}}const Ne=({query:r,params:t={},options:e={}})=>{const n=new URLSearchParams,{tag:o,...c}=e;o&&n.append("tag",o),n.append("query",r);for(const[h,d]of Object.entries(t))n.append("$".concat(h),JSON.stringify(d));for(const[h,d]of Object.entries(c))d&&n.append(h,"".concat(d));return"?".concat(n)},nn=(r,t)=>r===!1?void 0:typeof r>"u"?t:r,sn=(r={})=>({dryRun:r.dryRun,returnIds:!0,returnDocuments:nn(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}),ee=r=>r.type==="response",on=r=>r.body,an=(r,t)=>r.reduce((e,n)=>(e[t(n)]=n,e),Object.create(null)),cn=11264;function He(r,t,e,n,o={},c={}){const h="stega"in c?{...e||{},...typeof c.stega=="boolean"?{enabled:c.stega}:c.stega||{}}:e,d=h.enabled?rn(o):o,g=c.filterResponse===!1?S=>S:S=>S.result,{cache:v,next:b,...E}={useAbortSignal:typeof c.signal<"u",resultSourceMap:h.enabled?"withKeyArraySelector":c.resultSourceMap,...c},m=typeof v<"u"||typeof b<"u"?{...E,fetch:{cache:v,next:b}}:E,l=bt(r,t,"query",{query:n,params:d},m);return h.enabled?l.pipe(vr(mr(pe(()=>Promise.resolve().then(()=>Jn),void 0).then(function(S){return S.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:S})=>S))),V(([S,w])=>{const O=w(S.result,S.resultSourceMap,h);return g({...S,result:O})})):l.pipe(V(g))}function ze(r,t,e,n={}){const o={uri:at(r,"doc",e),json:!0,tag:n.tag};return Et(r,t,o).pipe(_t(ee),V(c=>c.body.documents&&c.body.documents[0]))}function Be(r,t,e,n={}){const o={uri:at(r,"doc",e.join(",")),json:!0,tag:n.tag};return Et(r,t,o).pipe(_t(ee),V(c=>{const h=an(c.body.documents||[],d=>d._id);return e.map(d=>h[d]||null)}))}function Ve(r,t,e,n){return jt("createIfNotExists",e),Jt(r,t,e,"createIfNotExists",n)}function Ge(r,t,e,n){return jt("createOrReplace",e),Jt(r,t,e,"createOrReplace",n)}function Fe(r,t,e,n){return bt(r,t,"mutate",{mutations:[{delete:ve(e)}]},n)}function Je(r,t,e,n){let o;e instanceof wt||e instanceof yt?o={patch:e.serialize()}:e instanceof qe||e instanceof $e?o=e.serialize():o=e;const c=Array.isArray(o)?o:[o],h=n&&n.transactionId||void 0;return bt(r,t,"mutate",{mutations:c,transactionId:h},n)}function bt(r,t,e,n,o={}){const c=e==="mutate",h=e==="query",d=c?"":Ne(n),g=!c&&d.length<cn,v=g?d:"",b=o.returnFirst,{timeout:E,token:m,tag:l,headers:S}=o,w=at(r,e,v),O={method:g?"GET":"POST",uri:w,json:!0,body:g?void 0:n,query:c&&sn(o),timeout:E,headers:S,token:m,tag:l,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:h,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal,useCdn:o.useCdn};return Et(r,t,O).pipe(_t(ee),V(on),V(x=>{if(!c)return x;const A=x.results||[];if(o.returnDocuments)return b?A[0]&&A[0].document:A.map(U=>U.document);const q=b?"documentId":"documentIds",C=b?A[0]&&A[0].id:A.map(U=>U.id);return{transactionId:x.transactionId,results:A,[q]:C}}))}function Jt(r,t,e,n,o={}){const c={[n]:e},h=Object.assign({returnFirst:!0,returnDocuments:!0},o);return bt(r,t,"mutate",{mutations:[c]},h)}function Et(r,t,e){var n,o;const c=e.url||e.uri,h=r.config(),d=typeof e.canUseCdn>"u"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&c.indexOf("/data/")===0:e.canUseCdn;let g=((n=e.useCdn)!=null?n:h.useCdn)&&d;const v=e.tag&&h.requestTagPrefix?[h.requestTagPrefix,e.tag].join("."):e.tag||h.requestTagPrefix;if(v&&e.tag!==null&&(e.query={tag:Ee(v),...e.query}),["GET","HEAD","POST"].indexOf(e.method||"GET")>=0&&c.indexOf("/data/query/")===0){const m=(o=e.resultSourceMap)!=null?o:h.resultSourceMap;m!==void 0&&m!==!1&&(e.query={resultSourceMap:m,...e.query});const l=e.perspective||h.perspective;typeof l=="string"&&l!=="raw"&&(De(l),e.query={perspective:l,...e.query},l==="previewDrafts"&&g&&(g=!1,Lr()))}const b=Jr(h,Object.assign({},e,{url:re(r,c,g)})),E=new mt(m=>t(b,h.requester).subscribe(m));return e.signal?E.pipe(un(e.signal)):E}function D(r,t,e){return Et(r,t,e).pipe(_t(o=>o.type==="response"),V(o=>o.body))}function at(r,t,e){const n=r.config(),o=be(n),c="/".concat(t,"/").concat(o),h=e?"".concat(c,"/").concat(e):c;return"/data".concat(h).replace(/\/($|\?)/,"$1")}function re(r,t,e=!1){const{url:n,cdnUrl:o}=r.config(),c=e?o:n;return"".concat(c,"/").concat(t.replace(/^\//,""))}function un(r){return t=>new mt(e=>{const n=()=>e.error(ln(r));if(r&&r.aborted){n();return}const o=t.subscribe(e);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),o.unsubscribe()}})}const hn=!!globalThis.DOMException;function ln(r){var t,e;if(hn)return new DOMException((t=r==null?void 0:r.reason)!=null?t:"The operation was aborted.","AbortError");const n=new Error((e=r==null?void 0:r.reason)!=null?e:"The operation was aborted.");return n.name="AbortError",n}var Ye=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},qt=(r,t,e)=>(Ye(r,t,"read from private field"),e?e.call(r):t.get(r)),Ut=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},$t=(r,t,e,n)=>(Ye(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),xt,At,Ct,kt;class fn{constructor(t,e){Ut(this,xt,void 0),Ut(this,At,void 0),$t(this,xt,t),$t(this,At,e)}upload(t,e,n){return Qe(qt(this,xt),qt(this,At),t,e,n)}}xt=new WeakMap;At=new WeakMap;class dn{constructor(t,e){Ut(this,Ct,void 0),Ut(this,kt,void 0),$t(this,Ct,t),$t(this,kt,e)}upload(t,e,n){const o=Qe(qt(this,Ct),qt(this,kt),t,e,n);return P(o.pipe(_t(c=>c.type==="response"),V(c=>c.body.document)))}}Ct=new WeakMap;kt=new WeakMap;function Qe(r,t,e,n,o={}){Mr(e);let c=o.extract||void 0;c&&!c.length&&(c=["none"]);const h=be(r.config()),d=e==="image"?"images":"files",g=pn(o,n),{tag:v,label:b,title:E,description:m,creditLine:l,filename:S,source:w}=g,O={label:b,title:E,description:m,filename:S,meta:c,creditLine:l};return w&&(O.sourceId=w.id,O.sourceName=w.name,O.sourceUrl=w.url),Et(r,t,{tag:v,method:"POST",timeout:g.timeout||0,uri:"/assets/".concat(d,"/").concat(h),headers:g.contentType?{"Content-Type":g.contentType}:{},query:O,body:n})}function pn(r,t){return typeof File>"u"||!(t instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:t.name,contentType:t.type},r)}var gn=(r,t)=>Object.keys(t).concat(Object.keys(r)).reduce((e,n)=>(e[n]=typeof r[n]>"u"?t[n]:r[n],e),{});const yn=(r,t)=>t.reduce((e,n)=>(typeof r[n]>"u"||(e[n]=r[n]),e),{}),wn=14800,vn=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],mn={includeResult:!0};function Xe(r,t,e={}){const{url:n,token:o,withCredentials:c,requestTagPrefix:h}=this.config(),d=e.tag&&h?[h,e.tag].join("."):e.tag,g={...gn(e,mn),tag:d},v=yn(g,vn),b=Ne({query:r,params:t,options:{tag:d,...v}}),E="".concat(n).concat(at(this,"listen",b));if(E.length>wn)return new mt(w=>w.error(new Error("Query too large for listener")));const m=g.events?g.events:["mutation"],l=m.indexOf("reconnect")!==-1,S={};return(o||c)&&(S.withCredentials=!0),o&&(S.headers={Authorization:"Bearer ".concat(o)}),new mt(w=>{let O;rt().then(i=>{O=i}).catch(i=>{w.error(i),s()});let x,A=!1;function q(){A||(ct(),!A&&O.readyState===O.CLOSED&&(G(),clearTimeout(x),x=setTimeout(ut,100)))}function C(i){w.error(_n(i))}function U(i){const u=Ke(i);return u instanceof Error?w.error(u):w.next(u)}function et(){A=!0,G(),w.complete()}function G(){O&&(O.removeEventListener("error",q),O.removeEventListener("channelError",C),O.removeEventListener("disconnect",et),m.forEach(i=>O.removeEventListener(i,U)),O.close())}function ct(){l&&w.next({type:"reconnect"})}async function rt(){const{default:i}=await pe(()=>Promise.resolve().then(()=>Qn),void 0),u=new i(E,S);return u.addEventListener("error",q),u.addEventListener("channelError",C),u.addEventListener("disconnect",et),m.forEach(a=>u.addEventListener(a,U)),u}function ut(){rt().then(i=>{O=i}).catch(i=>{w.error(i),s()})}function s(){A=!0,G()}return s})}function Ke(r){try{const t=r.data&&JSON.parse(r.data)||{};return Object.assign({type:r.type},t)}catch(t){return t}}function _n(r){if(r instanceof Error)return r;const t=Ke(r);return t instanceof Error?t:new Error(bn(t))}function bn(r){return r.error?r.error.description?r.error.description:typeof r.error=="string"?r.error:JSON.stringify(r.error,null,2):r.message||"Unknown listener error"}var Ze=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},T=(r,t,e)=>(Ze(r,t,"read from private field"),e?e.call(r):t.get(r)),Dt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Wt=(r,t,e,n)=>(Ze(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),X,K,Z,tt;class En{constructor(t,e){Dt(this,X,void 0),Dt(this,K,void 0),Wt(this,X,t),Wt(this,K,e)}create(t,e){return ot(T(this,X),T(this,K),"PUT",t,e)}edit(t,e){return ot(T(this,X),T(this,K),"PATCH",t,e)}delete(t){return ot(T(this,X),T(this,K),"DELETE",t)}list(){return D(T(this,X),T(this,K),{uri:"/datasets",tag:null})}}X=new WeakMap;K=new WeakMap;class Sn{constructor(t,e){Dt(this,Z,void 0),Dt(this,tt,void 0),Wt(this,Z,t),Wt(this,tt,e)}create(t,e){return P(ot(T(this,Z),T(this,tt),"PUT",t,e))}edit(t,e){return P(ot(T(this,Z),T(this,tt),"PATCH",t,e))}delete(t){return P(ot(T(this,Z),T(this,tt),"DELETE",t))}list(){return P(D(T(this,Z),T(this,tt),{uri:"/datasets",tag:null}))}}Z=new WeakMap;tt=new WeakMap;function ot(r,t,e,n,o){return me(n),D(r,t,{method:e,uri:"/datasets/".concat(n),body:o,tag:null})}var tr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},B=(r,t,e)=>(tr(r,t,"read from private field"),e?e.call(r):t.get(r)),Lt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Nt=(r,t,e,n)=>(tr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),lt,ft,dt,pt;class On{constructor(t,e){Lt(this,lt,void 0),Lt(this,ft,void 0),Nt(this,lt,t),Nt(this,ft,e)}list(t){const e=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return D(B(this,lt),B(this,ft),{uri:e})}getById(t){return D(B(this,lt),B(this,ft),{uri:"/projects/".concat(t)})}}lt=new WeakMap;ft=new WeakMap;class xn{constructor(t,e){Lt(this,dt,void 0),Lt(this,pt,void 0),Nt(this,dt,t),Nt(this,pt,e)}list(t){const e=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return P(D(B(this,dt),B(this,pt),{uri:e}))}getById(t){return P(D(B(this,dt),B(this,pt),{uri:"/projects/".concat(t)}))}}dt=new WeakMap;pt=new WeakMap;var er=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Ht=(r,t,e)=>(er(r,t,"read from private field"),e?e.call(r):t.get(r)),zt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Bt=(r,t,e,n)=>(er(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),It,Pt,Mt,Tt;class An{constructor(t,e){zt(this,It,void 0),zt(this,Pt,void 0),Bt(this,It,t),Bt(this,Pt,e)}getById(t){return D(Ht(this,It),Ht(this,Pt),{uri:"/users/".concat(t)})}}It=new WeakMap;Pt=new WeakMap;class Cn{constructor(t,e){zt(this,Mt,void 0),zt(this,Tt,void 0),Bt(this,Mt,t),Bt(this,Tt,e)}getById(t){return P(D(Ht(this,Mt),Ht(this,Tt),{uri:"/users/".concat(t)}))}}Mt=new WeakMap;Tt=new WeakMap;var rr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},p=(r,t,e)=>(rr(r,t,"read from private field"),e?e.call(r):t.get(r)),Vt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Gt=(r,t,e,n)=>(rr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),N,I,H,k;const kn=class Xt{constructor(t,e=vt){Vt(this,N,void 0),Vt(this,I,void 0),this.listen=Xe,this.config(e),Gt(this,I,t),this.assets=new fn(this,p(this,I)),this.datasets=new En(this,p(this,I)),this.projects=new On(this,p(this,I)),this.users=new An(this,p(this,I))}clone(){return new Xt(p(this,I),this.config())}config(t){if(t===void 0)return{...p(this,N)};if(p(this,N)&&p(this,N).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Gt(this,N,We(t,p(this,N)||{})),this}withConfig(t){const e=this.config();return new Xt(p(this,I),{...e,...t,stega:{...e.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,e,n){return He(this,p(this,I),p(this,N).stega,t,e,n)}getDocument(t,e){return ze(this,p(this,I),t,e)}getDocuments(t,e){return Be(this,p(this,I),t,e)}create(t,e){return Jt(this,p(this,I),t,"create",e)}createIfNotExists(t,e){return Ve(this,p(this,I),t,e)}createOrReplace(t,e){return Ge(this,p(this,I),t,e)}delete(t,e){return Fe(this,p(this,I),t,e)}mutate(t,e){return Je(this,p(this,I),t,e)}patch(t,e){return new yt(t,e,this)}transaction(t){return new $e(t,this)}request(t){return D(this,p(this,I),t)}getUrl(t,e){return re(this,t,e)}getDataUrl(t,e){return at(this,t,e)}};N=new WeakMap;I=new WeakMap;let In=kn;const Pn=class Kt{constructor(t,e=vt){Vt(this,H,void 0),Vt(this,k,void 0),this.listen=Xe,this.config(e),Gt(this,k,t),this.assets=new dn(this,p(this,k)),this.datasets=new Sn(this,p(this,k)),this.projects=new xn(this,p(this,k)),this.users=new Cn(this,p(this,k)),this.observable=new In(t,e)}clone(){return new Kt(p(this,k),this.config())}config(t){if(t===void 0)return{...p(this,H)};if(p(this,H)&&p(this,H).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),Gt(this,H,We(t,p(this,H)||{})),this}withConfig(t){const e=this.config();return new Kt(p(this,k),{...e,...t,stega:{...e.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,e,n){return P(He(this,p(this,k),p(this,H).stega,t,e,n))}getDocument(t,e){return P(ze(this,p(this,k),t,e))}getDocuments(t,e){return P(Be(this,p(this,k),t,e))}create(t,e){return P(Jt(this,p(this,k),t,"create",e))}createIfNotExists(t,e){return P(Ve(this,p(this,k),t,e))}createOrReplace(t,e){return P(Ge(this,p(this,k),t,e))}delete(t,e){return P(Fe(this,p(this,k),t,e))}mutate(t,e){return P(Je(this,p(this,k),t,e))}patch(t,e){return new wt(t,e,this)}transaction(t){return new qe(t,this)}request(t){return P(D(this,p(this,k),t))}dataRequest(t,e,n){return P(bt(this,p(this,k),t,e,n))}getUrl(t,e){return re(this,t,e)}getDataUrl(t,e){return at(this,t,e)}};H=new WeakMap;k=new WeakMap;let Mn=Pn;function Tn(r,t){return{requester:ie(r,{}).defaultRequester,createClient:c=>new t(ie(r,{maxRetries:c.maxRetries,retryDelay:c.retryDelay}),c)}}var Rn=[];const jn=Tn(Rn,Mn),ei=jn.createClient;var nr={exports:{}};(function(r,t){(function(e,n){r.exports=n()})(fr,function(){function e(){return e=Object.assign||function(s){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=u[a])}return s},e.apply(this,arguments)}function n(s,i){if(s){if(typeof s=="string")return o(s,i);var u=Object.prototype.toString.call(s).slice(8,-1);if(u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set")return Array.from(s);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return o(s,i)}}function o(s,i){(i==null||i>s.length)&&(i=s.length);for(var u=0,a=new Array(i);u<i;u++)a[u]=s[u];return a}function c(s,i){var u=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(u)return(u=u.call(s)).next.bind(u);if(Array.isArray(s)||(u=n(s))||i&&s&&typeof s.length=="number"){u&&(s=u);var a=0;return function(){return a>=s.length?{done:!0}:{done:!1,value:s[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function d(s){var i=s.split("-"),u=i[1],a=i[2],y=i[3];if(!u||!a||!y)throw new Error("Malformed asset _ref '"+s+`'. Expected an id like "`+h+'".');var f=a.split("x"),_=f[0],M=f[1],$=+_,R=+M,j=isFinite($)&&isFinite(R);if(!j)throw new Error("Malformed asset _ref '"+s+`'. Expected an id like "`+h+'".');return{id:u,width:$,height:R,format:y}}var g=function(i){var u=i;return u?typeof u._ref=="string":!1},v=function(i){var u=i;return u?typeof u._id=="string":!1},b=function(i){var u=i;return u&&u.asset?typeof u.asset.url=="string":!1};function E(s){if(!s)return null;var i;if(typeof s=="string"&&m(s))i={asset:{_ref:l(s)}};else if(typeof s=="string")i={asset:{_ref:s}};else if(g(s))i={asset:s};else if(v(s))i={asset:{_ref:s._id||""}};else if(b(s))i={asset:{_ref:l(s.asset.url)}};else if(typeof s.asset=="object")i=e({},s);else return null;var u=s;return u.crop&&(i.crop=u.crop),u.hotspot&&(i.hotspot=u.hotspot),S(i)}function m(s){return/^https?:\/\//.test(""+s)}function l(s){var i=s.split("/").slice(-1);return("image-"+i[0]).replace(/\.([a-z]+)$/,"-$1")}function S(s){if(s.crop&&s.hotspot)return s;var i=e({},s);return i.crop||(i.crop={left:0,top:0,bottom:0,right:0}),i.hotspot||(i.hotspot={x:.5,y:.5,height:1,width:1}),i}var w=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function O(s){var i=e({},s||{}),u=i.source;delete i.source;var a=E(u);if(!a)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(u)+")");var y=a.asset._ref||a.asset._id||"",f=d(y),_=Math.round(a.crop.left*f.width),M=Math.round(a.crop.top*f.height),$={left:_,top:M,width:Math.round(f.width-a.crop.right*f.width-_),height:Math.round(f.height-a.crop.bottom*f.height-M)},R=a.hotspot.height*f.height/2,j=a.hotspot.width*f.width/2,L=a.hotspot.x*f.width,F=a.hotspot.y*f.height,W={left:L-j,top:F-R,right:L+j,bottom:F+R};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=e({},i,A({crop:$,hotspot:W},i))),x(e({},i,{asset:f}))}function x(s){var i=(s.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),u=s.asset.id+"-"+s.asset.width+"x"+s.asset.height+"."+s.asset.format,a=i+"/images/"+s.projectId+"/"+s.dataset+"/"+u,y=[];if(s.rect){var f=s.rect,_=f.left,M=f.top,$=f.width,R=f.height,j=_!==0||M!==0||R!==s.asset.height||$!==s.asset.width;j&&y.push("rect="+_+","+M+","+$+","+R)}s.bg&&y.push("bg="+s.bg),s.focalPoint&&(y.push("fp-x="+s.focalPoint.x),y.push("fp-y="+s.focalPoint.y));var L=[s.flipHorizontal&&"h",s.flipVertical&&"v"].filter(Boolean).join("");return L&&y.push("flip="+L),w.forEach(function(F){var W=F[0],J=F[1];typeof s[W]<"u"?y.push(J+"="+encodeURIComponent(s[W])):typeof s[J]<"u"&&y.push(J+"="+encodeURIComponent(s[J]))}),y.length===0?a:a+"?"+y.join("&")}function A(s,i){var u,a=i.width,y=i.height;if(!(a&&y))return{width:a,height:y,rect:s.crop};var f=s.crop,_=s.hotspot,M=a/y,$=f.width/f.height;if($>M){var R=Math.round(f.height),j=Math.round(R*M),L=Math.max(0,Math.round(f.top)),F=Math.round((_.right-_.left)/2+_.left),W=Math.max(0,Math.round(F-j/2));W<f.left?W=f.left:W+j>f.left+f.width&&(W=f.left+f.width-j),u={left:W,top:L,width:j,height:R}}else{var J=f.width,St=Math.round(J/M),hr=Math.max(0,Math.round(f.left)),lr=Math.round((_.bottom-_.top)/2+_.top),ht=Math.max(0,Math.round(lr-St/2));ht<f.top?ht=f.top:ht+St>f.top+f.height&&(ht=f.top+f.height-St),u={left:hr,top:ht,width:J,height:St}}return{width:a,height:y,rect:u}}var q=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],U=["format"];function et(s){return s&&"config"in s?typeof s.config=="function":!1}function G(s){return s&&"clientConfig"in s?typeof s.clientConfig=="object":!1}function ct(s){for(var i=w,u=c(i),a;!(a=u()).done;){var y=a.value,f=y[0],_=y[1];if(s===f||s===_)return f}return s}function rt(s){if(et(s)){var i=s.config(),u=i.apiHost,a=i.projectId,y=i.dataset,f=u||"https://api.sanity.io";return new ut(null,{baseUrl:f.replace(/^https:\/\/api\./,"https://cdn."),projectId:a,dataset:y})}var _=s;if(G(_)){var M=_.clientConfig,$=M.apiHost,R=M.projectId,j=M.dataset,L=$||"https://api.sanity.io";return new ut(null,{baseUrl:L.replace(/^https:\/\/api\./,"https://cdn."),projectId:R,dataset:j})}return new ut(null,s)}var ut=function(){function s(u,a){this.options=void 0,this.options=u?e({},u.options||{},a||{}):e({},a||{})}var i=s.prototype;return i.withOptions=function(a){var y=a.baseUrl||this.options.baseUrl,f={baseUrl:y};for(var _ in a)if(a.hasOwnProperty(_)){var M=ct(_);f[M]=a[_]}return new s(this,e({baseUrl:y},f))},i.image=function(a){return this.withOptions({source:a})},i.dataset=function(a){return this.withOptions({dataset:a})},i.projectId=function(a){return this.withOptions({projectId:a})},i.bg=function(a){return this.withOptions({bg:a})},i.dpr=function(a){return this.withOptions(a&&a!==1?{dpr:a}:{})},i.width=function(a){return this.withOptions({width:a})},i.height=function(a){return this.withOptions({height:a})},i.focalPoint=function(a,y){return this.withOptions({focalPoint:{x:a,y}})},i.maxWidth=function(a){return this.withOptions({maxWidth:a})},i.minWidth=function(a){return this.withOptions({minWidth:a})},i.maxHeight=function(a){return this.withOptions({maxHeight:a})},i.minHeight=function(a){return this.withOptions({minHeight:a})},i.size=function(a,y){return this.withOptions({width:a,height:y})},i.blur=function(a){return this.withOptions({blur:a})},i.sharpen=function(a){return this.withOptions({sharpen:a})},i.rect=function(a,y,f,_){return this.withOptions({rect:{left:a,top:y,width:f,height:_}})},i.format=function(a){return this.withOptions({format:a})},i.invert=function(a){return this.withOptions({invert:a})},i.orientation=function(a){return this.withOptions({orientation:a})},i.quality=function(a){return this.withOptions({quality:a})},i.forceDownload=function(a){return this.withOptions({download:a})},i.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},i.flipVertical=function(){return this.withOptions({flipVertical:!0})},i.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},i.fit=function(a){if(q.indexOf(a)===-1)throw new Error('Invalid fit mode "'+a+'"');return this.withOptions({fit:a})},i.crop=function(a){if(C.indexOf(a)===-1)throw new Error('Invalid crop mode "'+a+'"');return this.withOptions({crop:a})},i.saturation=function(a){return this.withOptions({saturation:a})},i.auto=function(a){if(U.indexOf(a)===-1)throw new Error('Invalid auto mode "'+a+'"');return this.withOptions({auto:a})},i.pad=function(a){return this.withOptions({pad:a})},i.url=function(){return O(this.options)},i.toString=function(){return this.url()},s}();return rt})})(nr);var qn=nr.exports;const ri=ge(qn),ir=/_key\s*==\s*['"](.*)['"]/;function Un(r){return typeof r=="string"?ir.test(r.trim()):typeof r=="object"&&"_key"in r}function sr(r){if(!Array.isArray(r))throw new Error("Path is not an array");return r.reduce((t,e,n)=>{const o=typeof e;if(o==="number")return"".concat(t,"[").concat(e,"]");if(o==="string"){const c=n===0?"":".";return"".concat(t).concat(c).concat(e)}if(Un(e)&&e._key)return"".concat(t,'[_key=="').concat(e._key,'"]');if(Array.isArray(e)){const[c,h]=e;return"".concat(t,"[").concat(c,":").concat(h,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(e),"`"))},"")}const ce={"\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","'":"\\'","\\":"\\\\"},ue={"\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	","\\'":"'","\\\\":"\\"};function $n(r){return"$".concat(r.map(t=>{if(typeof t=="string"){const e=t.replace(/[\f\n\r\t'\\]/g,n=>ce[n]);return"['".concat(e,"']")}if(typeof t=="number")return"[".concat(t,"]");if(t._key!==""){const e=t._key.replace(/['\\]/g,n=>ce[n]);return"[?(@._key=='".concat(e,"')]")}return"[".concat(t._index,"]")}).join(""))}function he(r){const t=[],e=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g;let n;for(;(n=e.exec(r))!==null;){if(n[1]!==void 0){const o=n[1].replace(/\\(\\|f|n|r|t|')/g,c=>ue[c]);t.push(o);continue}if(n[2]!==void 0){t.push(parseInt(n[2],10));continue}if(n[3]!==void 0){const o=n[3].replace(/\\(\\')/g,c=>ue[c]);t.push({_key:o,_index:-1});continue}}return t}function or(r){return r.map(t=>{if(typeof t=="string"||typeof t=="number")return t;if(t._key!=="")return{_key:t._key};if(t._index!==-1)return t._index;throw new Error("invalid segment:".concat(JSON.stringify(t)))})}function Dn(r){return r.map(t=>{if(typeof t=="string"||typeof t=="number")return t;if(t._index!==-1)return t._index;throw new Error("invalid segment:".concat(JSON.stringify(t)))})}function Wn(r,t){if(!(t!=null&&t.mappings))return;const e=$n(Dn(r));if(t.mappings[e]!==void 0)return{mapping:t.mappings[e],matchedPath:e,pathSuffix:""};const n=Object.entries(t.mappings).filter(([d])=>e.startsWith(d)).sort(([d],[g])=>g.length-d.length);if(n.length==0)return;const[o,c]=n[0],h=e.substring(o.length);return{mapping:c,matchedPath:o,pathSuffix:h}}function Ln(r){return r!==null&&Array.isArray(r)}function le(r){return typeof r=="object"&&r!==null}function Rt(r,t,e=[]){return Ln(r)?r.map((n,o)=>{if(le(n)){const c=n._key;if(typeof c=="string")return Rt(n,t,e.concat({_key:c,_index:o}))}return Rt(n,t,e.concat(o))}):le(r)?Object.fromEntries(Object.entries(r).map(([n,o])=>[n,Rt(o,t,e.concat(n))])):t(r,e)}function ar(r,t,e){return Rt(r,(n,o)=>{if(typeof n!="string")return n;const c=Wn(o,t);if(!c)return n;const{mapping:h,matchedPath:d}=c;if(h.type!=="value"||h.source.type!=="documentValue")return n;const g=t.documents[h.source.document],v=t.paths[h.source.path],b=he(d),m=he(v).concat(o.slice(b.length));return e({sourcePath:m,sourceDocument:g,resultPath:o,value:n})})}const fe="drafts.";function Nn(r){return r.startsWith(fe)?r.slice(fe.length):r}function Hn(r){const{baseUrl:t,workspace:e="default",tool:n="default",id:o,type:c,path:h}=r;if(!t)throw new Error("baseUrl is required");if(!h)throw new Error("path is required");if(!o)throw new Error("id is required");if(t!=="/"&&t.endsWith("/"))throw new Error("baseUrl must not end with a slash");const d=e==="default"?void 0:e,g=n==="default"?void 0:n,v=Nn(o),b=Array.isArray(h)?sr(or(h)):h,E=new URLSearchParams({baseUrl:t,id:v,type:c,path:b});d&&E.set("workspace",d),g&&E.set("tool",g);const m=[t==="/"?"":t];d&&m.push(d);const l=["mode=presentation","id=".concat(v),"type=".concat(c),"path=".concat(encodeURIComponent(b))];return g&&l.push("tool=".concat(g)),m.push("intent","edit","".concat(l.join(";"),"?").concat(E)),m.join("/")}function zn(r){let t=typeof r=="string"?r:r.baseUrl;return t!=="/"&&(t=t.replace(/\/$/,"")),typeof r=="string"?{baseUrl:t}:{...r,baseUrl:t}}const Qt=({sourcePath:r,value:t})=>{if(Vn(t)||Gn(t))return!1;const e=r.at(-1);return!(r.at(-2)==="slug"&&e==="current"||typeof e=="string"&&e.startsWith("_")||typeof e=="number"&&r.at(-2)==="marks"||e==="href"&&typeof r.at(-2)=="number"&&r.at(-3)==="markDefs"||e==="style"||e==="listItem"||r.some(n=>n==="meta"||n==="metadata"||n==="openGraph"||n==="seo")||typeof e=="string"&&Bn.has(e))},Bn=new Set(["color","colour","currency","email","format","gid","hex","href","hsl","hsla","icon","id","index","key","language","layout","link","linkAction","locale","lqip","page","path","ref","rgb","rgba","route","secret","slug","status","tag","template","theme","type","unit","url","username","variant","website"]);function Vn(r){return/^\d{4}-\d{2}-\d{2}/.test(r)?!!Date.parse(r):!1}function Gn(r){try{new URL(r,r.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}const Ot=20;function cr(r,t,e){var n,o,c,h,d,g,v,b,E;const{filter:m,logger:l,enabled:S}=e;if(!S){const x="config.enabled must be true, don't call this function otherwise";throw(n=l==null?void 0:l.error)==null||n.call(l,"[@sanity/client]: ".concat(x),{result:r,resultSourceMap:t,config:e}),new TypeError(x)}if(!t)return(o=l==null?void 0:l.error)==null||o.call(l,"[@sanity/client]: Missing Content Source Map from response body",{result:r,resultSourceMap:t,config:e}),r;if(!e.studioUrl){const x="config.studioUrl must be defined";throw(c=l==null?void 0:l.error)==null||c.call(l,"[@sanity/client]: ".concat(x),{result:r,resultSourceMap:t,config:e}),new TypeError(x)}const w={encoded:[],skipped:[]},O=ar(r,t,({sourcePath:x,sourceDocument:A,resultPath:q,value:C})=>{if((typeof m=="function"?m({sourcePath:x,resultPath:q,filterDefault:Qt,sourceDocument:A,value:C}):Qt({sourcePath:x,resultPath:q,filterDefault:Qt,sourceDocument:A,value:C}))===!1)return l&&w.skipped.push({path:de(x),value:"".concat(C.slice(0,Ot)).concat(C.length>Ot?"...":""),length:C.length}),C;l&&w.encoded.push({path:de(x),value:"".concat(C.slice(0,Ot)).concat(C.length>Ot?"...":""),length:C.length});const{baseUrl:U,workspace:et,tool:G}=zn(typeof e.studioUrl=="function"?e.studioUrl(A):e.studioUrl);if(!U)return C;const{_id:ct,_type:rt}=A;return Zr(C,{origin:"sanity.io",href:Hn({baseUrl:U,workspace:et,tool:G,id:ct,type:rt,path:x})},!1)});if(l){const x=w.skipped.length,A=w.encoded.length;if((x||A)&&((h=(l==null?void 0:l.groupCollapsed)||l.log)==null||h("[@sanity/client]: Encoding source map into result"),(d=l.log)==null||d.call(l,"[@sanity/client]: Paths encoded: ".concat(w.encoded.length,", skipped: ").concat(w.skipped.length))),w.encoded.length>0&&((g=l==null?void 0:l.log)==null||g.call(l,"[@sanity/client]: Table of encoded paths"),(v=(l==null?void 0:l.table)||l.log)==null||v(w.encoded)),w.skipped.length>0){const q=new Set;for(const{path:C}of w.skipped)q.add(C.replace(ir,"0").replace(/\[\d+\]/g,"[]"));(b=l==null?void 0:l.log)==null||b.call(l,"[@sanity/client]: List of skipped paths",[...q.values()])}(x||A)&&((E=l==null?void 0:l.groupEnd)==null||E.call(l))}return O}function de(r){return sr(or(r))}var Fn=Object.freeze({__proto__:null,stegaEncodeSourceMap:cr});const Jn=Object.freeze(Object.defineProperty({__proto__:null,encodeIntoResult:ar,stegaEncodeSourceMap:cr,stegaEncodeSourceMap$1:Fn},Symbol.toStringTag,{value:"Module"}));var ur=_r.EventSourcePolyfill;const Yn=ge(ur),Qn=br({__proto__:null,default:Yn},[ur]);export{ei as c,ri as i};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
